/* empty css              *//* empty css              *//* empty css               */import{_ as k,d as S,u as U,r as u,P as C,o as I,c as O,a as t,w as a,v as n,n as p,t as _,e as m,f as T,F as B,T as v,p as z,b as D}from"./index.f0294639.js";import{d as F}from"./draw.c52eb7f6.js";import{_ as N}from"./SharePop.e32c47c5.js";import{c as P}from"./mainPage.31c08cbc.js";import{a as R}from"./user.239f6a97.js";import"./index.49ed8e39.js";import"./share.890ef0bd.js";const h=r=>(z("data-v-0772f547"),r=r(),D(),r),V=h(()=>t("div",{class:"background"},null,-1)),Y={class:"fixed"},E={class:"imgbox"},H={class:"rollbox"},$=["src"],j=h(()=>t("div",{id:"shareText"},"\u5206\u4EAB\u5230",-1)),q={__name:"gachaOne",setup(r){const o=S({imgUrl:"",name:"",id:"",description:""}),c=U(),f=()=>{c.push({path:"/"})},g=()=>{c.push({path:"/user"})},e=u(!1),w=async()=>{try{const s=await F();s.success?(e.value=!e.value,s.msg!=="\u8C22\u8C22\u53C2\u4E0E"&&(o.imgUrl=s.data.imgUrl,o.id=s.data.id,o.name=s.data.name,o.description=s.data.description)):s.code===4001&&(v("\u8BF7\u91CD\u65B0\u767B\u5F55"),setTimeout(function(){R()},1e3))}catch{console.log("errrrror")}},x=async()=>{(await P()).data>=1?e.value=!e.value:v("\u62BD\u5361\u6B21\u6570\u4E0D\u8DB3")},i=u(!1),y=async()=>{i.value=!i.value};return(s,l)=>{const b=C;return I(),O(B,null,[V,t("div",Y,[a(t("text",null,"\u70B9\u51FB\u56FE\u7247\u7FFB\u724C",512),[[n,!e.value]]),a(t("text",{style:{border:"none",color:"#502017"},onClick:x},"\u518D\u7FFB\u4E00\u6B21",512),[[n,e.value]]),a(t("text",{onClick:f},"\u8FD4\u56DE\u4E3B\u9875",512),[[n,e.value]]),a(t("button",{class:"share",onClick:y},"\u5206\u4EAB\u5F97\u7FFB\u724C\u6B21\u6570",512),[[n,e.value&&o.id]])]),t("div",E,[t("div",H,[t("div",{class:"rollbox_front",style:p({transform:e.value?"rotateY(-180deg)":""}),onClick:w},null,4),t("div",{class:"rollbox_behind",style:p({transform:e.value?"rotateY(-360deg)":""})},[t("text",null,_(o.id?o.name:"\u611F\u8C22\u53C2\u4E0E"),1),a(t("img",{src:o.imgUrl},null,8,$),[[n,o.imgUrl]]),t("button",{onClick:l[0]||(l[0]=d=>o.id?g():"")},_(o.id?"\u67E5\u770B\u5956\u52B1":"\u4E0B\u6B21\u597D\u8FD0"),1)],4)])]),m(b,{show:i.value,"onUpdate:show":l[1]||(l[1]=d=>i.value=d),position:"bottom",style:{height:"40.7vw",opacity:"0.9","padding-top":"3.7vw"}},{default:T(()=>[j,m(N,{reward:o,num:1},null,8,["reward"])]),_:1},8,["show"])],64)}}},tt=k(q,[["__scopeId","data-v-0772f547"]]);export{tt as default};
