/* empty css              *//* empty css              */import{a as P}from"./index.eaf8b8db.js";import{_ as $}from"./SharePop.c7c94783.js";import{_ as z,u as A,j as D,r as _,d as F,P as L,o as f,c as h,a as o,w as a,v as i,i as m,F as R,k as N,e as w,f as V,T as y,n as k,t as U,p as Y,b as E}from"./index.e1442f34.js";import{c as H}from"./mainPage.18ef9395.js";import{d as O}from"./draw.1e140e97.js";import"./http.739684a6.js";import"./share.09eb7ca5.js";const q=n=>(Y("data-v-6d01c6f9"),n=n(),E(),n),G=q(()=>o("div",{class:"background"},null,-1)),J={class:"fixed"},K={class:"imgbox"},M=["onClick"],Q={style:{position:"relative",left:"0",top:"0",background:"none",height:"100%",width:"100%"}},W=["src"],X=["onClick"],Z={__name:"gachaTen",setup(n){const g=A(),b=()=>{g.push({path:"/"})},C=()=>{g.push({path:"/rewards"})},r=D(()=>{let s=!0;for(let e=0;e<10;e++)s=s&&t[e].isRolled;return s}),p=_(!1),c=_(!1),t=F([{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1}]),v=async s=>{try{const e=await O();e.success?(t[s].isRolled=!t[s].isRolled,e.msg!=="\u8C22\u8C22\u53C2\u4E0E"&&(t[s].imgUrl=e.data.imgUrl,t[s].name=e.data.name,t[s].id=e.data.id,p.value=!0)):e.code===4001&&(y("\u8BF7\u91CD\u65B0\u767B\u5F55"),setTimeout(function(){P()},1e3))}catch{console.log("errrrror")}},u=_(!0),S=async()=>{try{u.value=!1;for(let s=0;s<10;s++)t[s].isRolled||await v(s)}catch{}},x=async()=>{if((await H()).data>=10){p.value=!1,u.value=!0;for(let e=0;e<10;e++)t[e].isRolled=!1}else y("\u62BD\u5361\u6B21\u6570\u4E0D\u8DB3")},T=async()=>{c.value=!c.value};return(s,e)=>{const j=$,B=L;return f(),h(R,null,[G,o("div",J,[a(o("button",{class:"all",onClick:e[0]||(e[0]=l=>u.value?S():"")},"\u5168\u90E8\u7FFB\u5F00",512),[[i,!m(r)]]),a(o("text",{style:{border:"none",color:"#502017"},onClick:x},"\u518D\u7FFB\u5341\u6B21",512),[[i,m(r)]]),a(o("text",{onClick:b},"\u8FD4\u56DE\u4E3B\u9875",512),[[i,m(r)]]),a(o("button",{class:"share",onClick:T},"\u5206\u4EAB\u5F97\u7FFB\u724C\u6B21\u6570",512),[[i,m(r)&&p.value]])]),o("div",K,[(f(!0),h(R,null,N(t,(l,d)=>(f(),h("div",{class:"rollBox",key:d},[o("div",{class:"rollbox_front",style:k({transform:t[d].isRolled?"rotateY(-180deg)":""}),onClick:I=>v(d)},null,12,M),o("div",{class:"rollbox_behind",style:k({transform:t[d].isRolled?"rotateY(-360deg)":""})},[o("div",Q,[o("text",null,U(l.id?l.name:"\u611F\u8C22\u53C2\u4E0E"),1),a(o("img",{src:l.imgUrl},null,8,W),[[i,l.imgUrl]]),o("button",{onClick:I=>l.id?C:""},U(l.id?"\u67E5\u770B\u5956\u52B1":"\u4E0B\u6B21\u597D\u8FD0"),9,X)])],4)]))),128))]),w(B,{show:c.value,"onUpdate:show":e[1]||(e[1]=l=>c.value=l),position:"bottom",style:{height:"24.3vw",opacity:"0.8"}},{default:V(()=>[w(j,{reward:t,num:10},null,8,["reward"])]),_:1},8,["show"])],64)}}},ce=z(Z,[["__scopeId","data-v-6d01c6f9"]]);export{ce as default};
