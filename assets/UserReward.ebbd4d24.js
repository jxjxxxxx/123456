import{_ as L}from"./TabBar.c2fcf326.js";/* empty css              */import{a as C}from"./index.2590dd36.js";import{I as S,L as A}from"./index.c73f6303.js";import{m as z,q as P,s as U,x as N,r as f,e as a,H as y,B as E,I as F,y as D,z as O,_ as I,o as g,c as x,a as u,t as B,f as $,T as _,F as H,k as V,A as q}from"./index.5d5aa15a.js";/* empty css               */import{i as K}from"./http.d348611a.js";import{u as M}from"./use-placeholder.1668f066.js";const[Z,o]=z("nav-bar"),j={title:String,fixed:Boolean,zIndex:P,border:U,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var G=N({name:Z,props:j,emits:["click-left","click-right"],setup(e,{emit:n,slots:t}){const c=f(),d=M(c,o),v=i=>n("click-left",i),w=i=>n("click-right",i),r=()=>t.left?t.left():[e.leftArrow&&a(F,{class:o("arrow"),name:"arrow-left"},null),e.leftText&&a("span",{class:o("text")},[e.leftText])],l=()=>t.right?t.right():a("span",{class:o("text")},[e.rightText]),m=()=>{const{title:i,fixed:p,border:h,zIndex:s}=e,k=D(s),R=e.leftArrow||e.leftText||t.left,b=e.rightText||t.right;return a("div",{ref:c,style:k,class:[o({fixed:p}),{[E]:h,"van-safe-area-top":e.safeAreaInsetTop}]},[a("div",{class:o("content")},[R&&a("div",{class:[o("left"),y],onClick:v},[r()]),a("div",{class:[o("title"),"van-ellipsis"]},[t.title?t.title():i]),b&&a("div",{class:[o("right"),y],onClick:w},[l()])])])};return()=>e.fixed&&e.placeholder?d(m):m()}});const J=O(G);const Q={class:"reward-item"},W={class:"reward-img"},X={class:"reward-info"},Y={class:"reward-title"},ee={class:"reward-content"},te={__name:"RewardItem",props:{title:{type:String,default:"\u6682\u65E0"},content:{type:String,default:"\u6682\u65E0"},img:{type:String,default:"./src/assets/reward-default.png"}},setup(e){const n=e;return(t,c)=>{const d=S;return g(),x("div",Q,[u("div",W,[a(d,{radius:"10",fit:"cover","lazy-load":"",src:n.img},null,8,["src"])]),u("div",X,[u("div",Y,B(n.title),1),u("div",ee,B(n.content),1)])])}}},ae=I(te,[["__scopeId","data-v-c40d5a39"]]);const T=async()=>(await K.get("/api/prize/")).data;const ne={id:"reward-list"},re={id:"list-card"},se={__name:"UserReward",setup(e){const n=f([]),t=f(!1),c=f(!1),d=f(!1),v=async()=>{t.value=!1;const r=await T();n.value=r.data};return(async()=>{_.loading({message:"\u52A0\u8F7D\u4E2D",duration:0,className:"toast",forbidClick:!0});try{const r=await T();r.success?(setTimeout(()=>_.clear(),500),n.value=r.data):r.code===4001?(_("\u8BF7\u91CD\u65B0\u767B\u5F55"),setTimeout(function(){C()},1e3)):_.fail("\u7F51\u7EDC\u5F02\u5E38")}catch(r){console.error(r),_.fail("\u7F51\u7EDC\u5F02\u5E38")}})(),(r,l)=>{const m=J,i=ae,p=A,h=L;return g(),x("div",ne,[u("div",re,[a(m,{class:"card-navbar",title:"\u5956\u52B1\u4E00\u89C8"}),a(p,{class:"card-container",loading:t.value,"onUpdate:loading":l[0]||(l[0]=s=>t.value=s),error:c.value,"onUpdate:error":l[1]||(l[1]=s=>c.value=s),finished:d.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86","error-text":"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D",onLoad:v},{default:$(()=>[(g(!0),x(H,null,V(n.value,s=>(g(),q(i,{key:s.id,title:s.name,content:s.description,img:s.imgUrl},null,8,["title","content","img"]))),128))]),_:1},8,["loading","error","finished"]),a(h,{type:0})])])}}},me=I(se,[["__scopeId","data-v-09930fb6"]]);export{me as default};
