/* empty css              *//* empty css              *//* empty css               */import{_ as z}from"./SharePop.c30e98cb.js";import{_ as A,u as D,j as F,r as g,d as L,P as N,o as h,c as v,a as l,w as n,v as r,i as u,F as U,k as V,e as w,f as Y,T as y,n as k,t as b,p as E,b as H}from"./index.3129796f.js";import{c as O}from"./mainPage.3dc5848e.js";import{a as q}from"./user.94056e2f.js";import{d as C}from"./draw.873cda16.js";import"./index.f4d34c74.js";import"./share.4178daec.js";const S=c=>(E("data-v-1aee3661"),c=c(),H(),c),G=S(()=>l("div",{class:"background"},null,-1)),J={class:"fixed"},K={class:"imgbox"},M=["onClick"],Q={style:{position:"relative",left:"0",top:"0",background:"none",height:"100%",width:"100%"}},W=["src"],X=["onClick"],Z=S(()=>l("div",{id:"shareText"},"\u5206\u4EAB\u5230",-1)),ee={__name:"gachaTen",setup(c){const R=D(),x=()=>{R.push({path:"/"})},T=()=>{R.push({path:"/user"})},d=F(()=>{let s=!0;for(let e=0;e<10;e++)s=s&&o[e].isRolled;return s}),_=g(!1),m=g(!1),o=L([{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1},{imgUrl:"",name:"",id:"",description:"",isRolled:!1}]),j=async s=>{try{const e=await C(1);e.success?(o[s].isRolled=!o[s].isRolled,e.msg!=="\u8C22\u8C22\u53C2\u4E0E"&&(o[s].imgUrl=e.data.imgUrl,o[s].name=e.data.name,o[s].id=e.data.id,_.value=!0)):e.code===4001&&(y("\u8BF7\u91CD\u65B0\u767B\u5F55"),setTimeout(function(){q()},1e3))}catch{console.log("errrrror")}},f=g(!0),B=async()=>{try{f.value=!1;let s=0;for(let t=0;t<10;t++)o[t].isRolled||s++;const e=await C(s);console.log(e.data);for(let t=0,i=0;t<10;t++)o[t].isRolled||(o[t].imgUrl=e.data[i].imgUrl,o[t].name=e.data[i].name,o[t].id=e.data[i].id,i++,o[t].isRolled=!o[t].isRolled)}catch{}},I=async()=>{if((await O()).data>=10){_.value=!1,f.value=!0;for(let e=0;e<10;e++)o[e].isRolled=!1}else y("\u62BD\u5361\u6B21\u6570\u4E0D\u8DB3")},P=async()=>{m.value=!m.value};return(s,e)=>{const t=z,i=N;return h(),v(U,null,[G,l("div",J,[n(l("button",{class:"all",onClick:e[0]||(e[0]=a=>f.value?B():"")},"\u5168\u90E8\u7FFB\u5F00",512),[[r,!u(d)]]),n(l("text",{style:{border:"none",color:"#502017"},onClick:I},"\u518D\u7FFB\u5341\u6B21",512),[[r,u(d)]]),n(l("text",{onClick:x},"\u8FD4\u56DE\u4E3B\u9875",512),[[r,u(d)]]),n(l("button",{class:"share",onClick:P},"\u5206\u4EAB\u5F97\u7FFB\u724C\u6B21\u6570",512),[[r,u(d)&&_.value]])]),l("div",K,[(h(!0),v(U,null,V(o,(a,p)=>(h(),v("div",{class:"rollBox",key:p},[l("div",{class:"rollbox_front",style:k({transform:o[p].isRolled?"rotateY(-180deg)":""}),onClick:$=>j(p)},null,12,M),l("div",{class:"rollbox_behind",style:k({transform:o[p].isRolled?"rotateY(-360deg)":""})},[l("div",Q,[l("text",null,b(a.id?a.name:"\u611F\u8C22\u53C2\u4E0E"),1),n(l("img",{src:a.imgUrl},null,8,W),[[r,a.imgUrl]]),l("button",{onClick:$=>a.id?T():""},b(a.id?"\u67E5\u770B\u5956\u52B1":"\u4E0B\u6B21\u597D\u8FD0"),9,X)])],4)]))),128))]),w(i,{show:m.value,"onUpdate:show":e[1]||(e[1]=a=>m.value=a),position:"bottom",style:{height:"40.7vw",opacity:"0.9","padding-top":"3.7vw"}},{default:Y(()=>[Z,w(t,{reward:o,num:10},null,8,["reward"])]),_:1},8,["show"])],64)}}},me=A(ee,[["__scopeId","data-v-1aee3661"]]);export{me as default};
